@model Web_Prog_Proje.Models.Kitap
@using Microsoft.AspNetCore.Identity
@inject SignInManager<Kullanici> SignInManager
@inject UserManager<Kullanici> UserManager
@{
    ViewData["Title"] = "Details";
}

<h1>Kitap Detayları</h1>

<div class="row">
    <hr />
    <div class="col-2">
        <img class="rounded img-fluid" src="@Html.DisplayFor(model => model.Resim)" alt="">

    </div>
    <div class="col-10">
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.KitapAd)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.KitapAd)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.SayfaSayisi)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.SayfaSayisi)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.BasimYili)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.BasimYili)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Konu)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Konu)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Resim)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Resim)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ArkaplanResim)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.ArkaplanResim)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Kategori)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Kategori.KategoriAd)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Dil)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Dil.DilId)
            </dd>

        </dl>
    </div>

</div>
@if (SignInManager.IsSignedIn(User))
{
    var giris_yapan_kullanici = await UserManager.GetUserAsync(User);
    var kullanici_rol = await UserManager.GetRolesAsync(giris_yapan_kullanici);

    if (kullanici_rol.FirstOrDefault().Equals("Admin"))
    {
        <div>
            <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
            <a asp-action="Index">Back to List</a>
        </div>
    }

}